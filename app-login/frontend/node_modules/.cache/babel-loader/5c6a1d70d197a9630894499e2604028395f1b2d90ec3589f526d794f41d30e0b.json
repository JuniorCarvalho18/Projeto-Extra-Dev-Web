{"ast":null,"code":"var _jsxFileName = \"C:\\\\GitHub\\\\Projeto-Extra-Dev-Web\\\\app-login\\\\frontend\\\\src\\\\components\\\\FileList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axiosInstance from '../services/axiosInstance';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FileList() {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [file, setFile] = useState(null);\n  const token = sessionStorage.getItem(\"token\");\n  useEffect(() => {\n    const fetchFiles = async () => {\n      try {\n        const res = await axiosInstance.get('http://localhost:3001/files', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setFiles(res.data);\n      } catch (err) {\n        console.error(\"Erro ao buscar arquivos:\", err);\n      }\n    };\n    fetchFiles();\n  }, [token]); // token como dependência, caso mude futuramente\n\n  const handleUpload = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      await axiosInstance.post('http://localhost:3001/files', formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      // Após upload, atualiza lista\n      const res = await axiosInstance.get('http://localhost:3001/files', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFiles(res.data);\n    } catch (err) {\n      console.error(\"Erro ao fazer upload:\", err);\n    }\n  };\n  const handleDelete = async name => {\n    try {\n      await axiosInstance.delete(`http://localhost:3001/files/${name}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      // Após deletar, atualiza lista\n      const res = await axiosInstance.get('http://localhost:3001/files', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setFiles(res.data);\n    } catch (err) {\n      console.error(\"Erro ao deletar arquivo:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Arquivos PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpload,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"application/pdf\",\n        onChange: e => setFile(e.target.files[0]),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: files.map(f => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `http://localhost:3001/uploads/${f}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: f\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(f),\n          children: \"Deletar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, f, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(FileList, \"xLjH6g2OroLR9TAdd0QnK8xl8HM=\");\n_c = FileList;\nexport default FileList;\nvar _c;\n$RefreshReg$(_c, \"FileList\");","map":{"version":3,"names":["React","useEffect","useState","axiosInstance","jsxDEV","_jsxDEV","FileList","_s","files","setFiles","file","setFile","token","sessionStorage","getItem","fetchFiles","res","get","headers","Authorization","data","err","console","error","handleUpload","e","preventDefault","formData","FormData","append","post","handleDelete","name","delete","class","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","accept","onChange","target","required","map","f","href","rel","onClick","_c","$RefreshReg$"],"sources":["C:/GitHub/Projeto-Extra-Dev-Web/app-login/frontend/src/components/FileList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axiosInstance from '../services/axiosInstance';\n\nfunction FileList() {\n  const [files, setFiles] = useState([]);\n  const [file, setFile] = useState(null);\n\n  const token = sessionStorage.getItem(\"token\");\n\n  useEffect(() => {\n    const fetchFiles = async () => {\n      try {\n        const res = await axiosInstance.get('http://localhost:3001/files', {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        setFiles(res.data);\n      } catch (err) {\n        console.error(\"Erro ao buscar arquivos:\", err);\n      }\n    };\n\n    fetchFiles();\n  }, [token]);  // token como dependência, caso mude futuramente\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      await axiosInstance.post('http://localhost:3001/files', formData, {\n        headers: { \n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      // Após upload, atualiza lista\n      const res = await axiosInstance.get('http://localhost:3001/files', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setFiles(res.data);\n    } catch (err) {\n      console.error(\"Erro ao fazer upload:\", err);\n    }\n  };\n\n  const handleDelete = async (name) => {\n    try {\n      await axiosInstance.delete(`http://localhost:3001/files/${name}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      // Após deletar, atualiza lista\n      const res = await axiosInstance.get('http://localhost:3001/files', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setFiles(res.data);\n    } catch (err) {\n      console.error(\"Erro ao deletar arquivo:\", err);\n    }\n  };\n\n  return (\n    <div class=\"home-container\">\n      <h2>Arquivos PDF</h2>\n      <form onSubmit={handleUpload}>\n        <input \n          type=\"file\" \n          accept=\"application/pdf\" \n          onChange={e => setFile(e.target.files[0])} \n          required \n        />\n        <button type=\"submit\">Upload</button>\n      </form>\n      <ul>\n        {files.map(f => (\n          <li key={f}>\n            <a href={`http://localhost:3001/uploads/${f}`} target=\"_blank\" rel=\"noopener noreferrer\">{f}</a>\n            <button onClick={() => handleDelete(f)}>Deletar</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default FileList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}